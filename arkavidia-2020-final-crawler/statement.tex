\documentclass{article}

\usepackage{geometry}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{hyperref}
\usepackage{multicol}
\usepackage{fancyhdr}
\pagestyle{fancy}
\hypersetup{ colorlinks=true, linkcolor=black, filecolor=magenta, urlcolor=cyan}
\geometry{ a4paper, total={170mm,257mm}, top=20mm, right=20mm, bottom=20mm, left=20mm}
\setlength{\parindent}{0pt}
\setlength{\parskip}{1em}
\renewcommand{\headrulewidth}{0pt}
\lhead{Competitive Programming - Arkavidia VI}
\fancyfoot[CE,CO]{\thepage}
\lstset{
    basicstyle=\ttfamily\small,
    columns=fixed,
    extendedchars=true,
    breaklines=true,
    tabsize=2,
    prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    frame=none,
    showtabs=false,
    showspaces=false,
    showstringspaces=false,
    prebreak={},
    keywordstyle=\color[rgb]{0.627,0.126,0.941},
    commentstyle=\color[rgb]{0.133,0.545,0.133},
    stringstyle=\color[rgb]{01,0,0},
    captionpos=t,
    escapeinside={(\%}{\%)}
}

\begin{document}

\begin{center}
    \section*{Otobiografi} % ganti judul soal

    \begin{tabular}{ | c c | }
        \hline
        Batas Waktu  & 1s \\    % jangan lupa ganti time limit
        Batas Memori & 64MB \\  % jangan lupa ganti memory limit
        \hline
    \end{tabular}
\end{center}

\subsection*{Deskripsi}
Elza, keturunan shahih maung Padjajaran dan pewaris resmi Arkav Empire, baru saja menyelesaikan situs web otobiografinya. Situs ini berisi informasi lengkap yang dibutuhkan siapapun untuk mengetahui sejarah hidup Elza, garis keluarganya, pencapaian dan peninggalan berharga Arkav Empire, sampai jalinan hubungan negara ini dengan negara-negara besar lainnya dan PBB. Sebagai keturunan bangsawan yang ahli memimpin dan mengatur bawahannya, Elza mengantisipasi besarnya \textit{traffic} yang akan mengunjungi situs yang telah dia buat. Sehingga, Elza membutuhkan bantuan Anda sebagai ahli pemrograman handal untuk menentukan laman mana yang akan banyak dikunjungi oleh banyak orang dan meminta Anda mengatur alokasi sumber daya agar setiap orang dapat mengakses situsnya tanpa kendala.

Masalahnya hanya satu. Belum ada seorangpun yang mengunjungisitus tersebut (kecuali Elza sendiri). Anda pun harus menggunakan kecerdikan Anda untuk memprediksi alur \textit{traffic} yang akan terjadi saat situs ini dikunjungi oleh banyak orang. Anda pun memrogram sebuah bot khusus untuk mengemulasikan \textit{traffic} pada \textit{website}. Bot tersebut pada setiap saatnya berada di suatu laman di situs Elza dan mencatat riwayat laman apa saja yang telah dia kunjungi. Pada awalnya, hanya terdapat satu instans bot tersebut di laman utama situs tersebut. Pada setiap satuan waktu, bot yang berada pada suatu laman akan mengecek laman apa saja yang dapat dituju dari laman yang dia tempati sekarang menggunakan \textit{link} tautan yang ada pada laman tersebut. Setelah itu, bot tersebut membuat \textit{clone} dirinya sendiri dengan riwayat yang sama, sebanyak laman yang dapat dia tuju sekarang, lalu setiap \textit{clone} berpindah ke laman-laman yang berbeda tersebut. Apabila bot tidak dapat berpindah ke laman lain, atau bot telah melakukan $K$ perpindahan, $\textit{lifetime}$ bot tersebut pun habis, dan riwayat laman yang telah dikunjungi bot tersebut dikembalikan ke program utama. Program utama mencatat total banyaknya setiap laman dikunjungi oleh setiap bot (tidak menghitung laman utama sebagai laman pertama bot). Total banyaknya setiap laman tersebutlah yang akan dipakai Anda untuk menganalisis prediksi \textit{traffic} situs otobiografi Elza. Jadi, mohon dihitungkan oleh Anda total banyak kunjungan masing-masing laman oleh semua bot.

Perhatikan bahwa suatu laman dapat memiliki \textit{link} ke dirinya sendiri. Walau mungkin kenyataannya terdapat banyak \texit{link} dari suatu laman ke suatu laman lainnya, bot hanya akan membuat satu \textit{clone} dirinya untuk pindah ke laman tersebut. Suatu laman dapat dikunjungi oleh beberapa \textit{clone} bot pada waktu yang bersamaan, mereka tidak mengetahui keberadaan bot yang lainnya. Perhatikan juga bahwa karena jawabannya mungkin sangat besar, cukup keluarkan total banyak kunjungan masing-masing laman, dimod $10^9+7$.

\subsection*{Format Masukan}

Baris pertama berisi tiga bilangan bulat $N$, $M$, dan $K$, ($1 \leq N \leq 50, 1 \leq M \leq N^2, 1 \leq K \leq 100.000$). Dengan $N$ merupakan banyaknya laman yang ada, dinomori dari $1$ sampai $N$. $M$ banyaknya hubungan \texit{link} antara dua laman, dan $K$ banyaknya langkah maksimum dari bot sebelum kembali ke program utama. Laman utama situs merupakan situs yang dinomori dengan angka $1$.

$M$ baris berikutnya berisikan bilangan bulat $X_i$ dan $Y_i$ ($0 \leq X,Y \leq N$) yang dipisahkan dengan sebuah spasi, yang menandakan terdapat suatu $\textit{link}$ dari laman bernomor $X_i$ ke laman bernomor $Y_i$. Dipastikan untuk setiap pasangan $X_i$ $Y_i$ hanya ada satu entri dalam $M$ baris ini.

\subsection*{Format Keluaran}

Sebuah baris yang berisi dengan $N$ bilangan. Bilangan ke-$i$ menandakan total banyaknya laman ke $i$ dikunjungi oleh setiap bot, dimod $10^9+7$.
\\

\begin{multicols}{2}
\subsection*{Contoh Masukan}
\begin{lstlisting}
4 6 3
1 2
1 3
2 3
2 4
4 1
4 4
\end{lstlisting}
\columnbreak
\subsection*{Contoh Keluaran}
\begin{lstlisting}
1 3 2 3
\end{lstlisting}
\vfill
\null
\end{multicols}

\subsection*{Penjelasan}
Riwayat setiap \texit{clone} bot yang ada adalah sebagai berikut :
\begin{itemize}
    \setlength\itemsep{0pt}
    \item $1 \rightarrow 2 \rightarrow 3$
    \item $1 \rightarrow 2 \rightarrow 4 \rightarrow 1$
    \item $1 \rightarrow 2 \rightarrow 4 \rightarrow 4$
    \item $1 \rightarrow 3$
\end{itemize}
Maka tidak menghitung posisi awal bot, laman $1$ dikunjungi sebanyak sekali, laman $2$ sebanyak tiga kali, laman $3$ sebanyak dua kali, dan laman $4$ sebanyak tiga kali.

\pagebreak

\end{document}
