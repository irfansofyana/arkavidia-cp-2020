\documentclass{article}

\usepackage{geometry}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{hyperref}
\usepackage{multicol}
\usepackage{fancyhdr}
\pagestyle{fancy}
\hypersetup{ colorlinks=true, linkcolor=black, filecolor=magenta, urlcolor=cyan}
\geometry{ a4paper, total={170mm,257mm}, top=20mm, right=20mm, bottom=20mm, left=20mm}
\setlength{\parindent}{0pt}
\setlength{\parskip}{1em}
\renewcommand{\headrulewidth}{0pt}
\lhead{Competitive Programming - Arkavidia VI}
\fancyfoot[CE,CO]{\thepage}
\lstset{
    basicstyle=\ttfamily\small,
    columns=fixed,
    extendedchars=true,
    breaklines=true,
    tabsize=2,
    prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    frame=none,
    showtabs=false,
    showspaces=false,
    showstringspaces=false,
    prebreak={},
    keywordstyle=\color[rgb]{0.627,0.126,0.941},
    commentstyle=\color[rgb]{0.133,0.545,0.133},
    stringstyle=\color[rgb]{01,0,0},
    captionpos=t,
    escapeinside={(\%}{\%)}
}

\begin{document}

\begin{center}
    \section*{Teleportasi} % ganti judul soal

    \begin{tabular}{ | c c | }
        \hline
        Batas Waktu  & 1s \\    % jangan lupa ganti time limit
        Batas Memori & 64MB \\  % jangan lupa ganti memory limit
        \hline
    \end{tabular}
\end{center}

\subsection*{Deskripsi}

Prof. Faiz seorang ilmuwan terkemuka di Negara Arkavidia berhasil menemukan sebuah terobosan baru dalam bidang transportasi yaitu teknologi teleportasi.

Teknologi teleportasi yang ditemukan mampu memindahkan kendaraan pada posisi $A$ menuju posisi $B$.

Awal tahun merupakan saat yang tepat untuk mencoba alat baru ini pada ruas jalan di Negara Arkavidia yang dibangun sejauh $N$ kilometer yang setiap kilometernya direpresentasikan dalam bentuk titik. Prof. Faiz merencanakan uji coba akan dilakukan dengan $Q$ tahap. Dengan setiap tahapnya dapat berupa :

\begin{enumerate}
    \setlength\itemsep{0pt}
    \item  Penambahan alat teleportasi. Penambahan alat teleportasi dilakukan dengan menambah alat pada titik $A$ dan titik $B$. Alat teleportasi ini akan secara otomatis memindahkan kendaraan yang masuk ke titik $A$ menuju titik $B$ begitupun sebaliknya. Dikarenakan alat teleportasi yang masih dalam tahap pengembangan, alat teleportasi dari suatu titik tidak dapat memindahkan kendaraan ke dua titik berbeda.

    \item Pengurangan alat teleportasi yang menghubungkan titik $A$ dan titik $B$

    \item Uji coba teleportasi. Uji coba teleportasi dilakukan dengan cara melakukan perjalanan dari posisi $0$ kilometer hingga posisi $N$ kilometer. Uji coba ini dilakukan untuk melihat keefektifan penempatan alat teleportasi. Pada uji coba teleportasi ini kendaraan hanya dapat bergerak maju atau melakukan teleportasi secara otomatis jika memenuhi kondisi yang telah dijelaskan sebelumnya. Sebagai salah satu parameter keefektifan, Prof. Faiz ingin menghitung berapa banyak teleportasi yang dilakukan hingga kendaraan sampai tujuan.   
\end{enumerate}


Anda yang merupakan programmer terhebat di Negara Arkavidia sengaja direkrut oleh Prof. Faiz untuk membantu Prof. Faiz melaksanakan tugasnya. Tentu saja, Anda yang juga sudah mempelajari etika keprofesian bersedia membantu Prof. Faiz dengan senang hati. Tugas anda mudah saja, mencatat setiap tahapan yang dilakukan dan tentunya selalu dengan sigap menjawab pertanyaan Prof. Faiz mengenai keefektifan penempatan alat teleportasi tepat seusai setiap uji coba teleportasi dilakukan.

\subsection*{Format Masukan}
Baris pertama berisi bilangan $N$ dan $Q$. $N$ merupakan panjang jalan di Negara Arkavidia. $Q$ merupakan banyakya tahapan uji coba yang dilakukan
Baris kedua hingga baris ke-$Q+1$ merupakan kegiatan yang dilakukan Prof. Faiz dalam setiap tahapannya.
Setiap baris dapat berupa :
\begin{enumerate}
    \setlength\itemsep{0pt}
    \item $1$ $A$ $B$ berarti penambahan alat teleportasi yang menghubungkan titik $A$ dan $B$
    \item $2$ $A$ $B$ berarti pengurangan alat teleportasi yang menghubungkan titik $A$ dan $B$
    \item $3$ berarti ujicoba dilakukan    
\end{enumerate}


\subsection*{Format Keluaran}
Setiap teradapat ujicoba, keluarkan sebuah baris yang berisi bilangan $M$ banyaknya teleportasi yang dilakukan untuk melakukan perjalanan dari titik $0$ hingga $N$ kilometer. 
\\

\begin{multicols}{2}
\subsection*{Contoh Masukan}
\begin{lstlisting}
6 3
1 2 4
1 5 6
3
\end{lstlisting}
\columnbreak
\subsection*{Contoh Keluaran}
\begin{lstlisting}
2
\end{lstlisting}
\vfill
\null
\end{multicols}

\subsection*{Penjelasan}
Pada tahap pertama, ditambahkan alat teleportasi yang menghubungkan titik 2 ke titik 4
Pada tahap kedua, ditambahkan alat teleportasi yang menghubungkan titik 5 ke titik 6
Pada tahap ketiga, dilakukan uji coba alat teleportasi, terdapat 2 kali teleportasi yaitu titik 2 ke titik 4 dan titik 5 ke titik 6.
\pagebreak

\begin{multicols}{2}
\subsection*{Contoh Masukan}
\begin{lstlisting}
10 3
1 2 3
2 2 3
3
\end{lstlisting}
\columnbreak
\subsection*{Contoh Keluaran}
\begin{lstlisting}
0
\end{lstlisting}
\vfill
\null
\end{multicols}

\end{document}

